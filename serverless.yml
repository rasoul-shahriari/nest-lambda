service: nest-lambda-demo

plugins:
 - serverless-plugin-typescript
 - serverless-plugin-optimize
 - serverless-offline

provider:
 name: aws
 runtime: nodejs20.x
 region: eu-north-1

functions:
  backend:
   handler: backend/src/lambda.handler
   events:
     - http:
         method: any
         path: /api/{any+}

  frontend:
    handler: frontend/handler.handler
    events:
      - http:
          path: /{proxy+}
          method: any
    environment:
      NODE_ENV: 'production'

custom:
  serverless-offline:
    httpPort: 5000